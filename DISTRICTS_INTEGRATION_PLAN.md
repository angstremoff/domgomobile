# üèòÔ∏è –ü–û–õ–ù–´–ô –ü–õ–ê–ù –ò–ù–¢–ï–ì–†–ê–¶–ò–ò –°–ò–°–¢–ï–ú–´ –†–ê–ô–û–ù–û–í (DISTRICTS)

## –û–ì–õ–ê–í–õ–ï–ù–ò–ï
1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏](#1-–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–∑–∞–¥–∞—á–∏)
2. [–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã](#2-—Ç–µ–∫—É—â–µ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ-—Å–∏—Å—Ç–µ–º—ã)
3. [–≠—Ç–∞–ø 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#3-—ç—Ç–∞–ø-1-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
4. [–≠—Ç–∞–ø 2: –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö](#4-—ç—Ç–∞–ø-2-–º–∏–≥—Ä–∞—Ü–∏—è-—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö-–¥–∞–Ω–Ω—ã—Ö)
5. [–≠—Ç–∞–ø 3: –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](#5-—ç—Ç–∞–ø-3-–º–æ–±–∏–ª—å–Ω–æ–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
6. [–≠—Ç–∞–ø 4: –í–µ–±-—Å–∞–π—Ç](#6-—ç—Ç–∞–ø-4-–≤–µ–±-—Å–∞–π—Ç)
7. [–≠—Ç–∞–ø 5: –ü–µ—Ä–µ–≤–æ–¥—ã](#7-—ç—Ç–∞–ø-5-–ø–µ—Ä–µ–≤–æ–¥—ã)
8. [–≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#8-—ç—Ç–∞–ø-6-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
9. [–ü—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è –∏ —Ä–∏—Å–∫–∏](#9-–ø—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–∏—è-–∏-—Ä–∏—Å–∫–∏)
10. [–ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](#10-—á–µ–∫-–ª–∏—Å—Ç-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

---

## 1. –û–ë–©–ï–ï –û–ü–ò–°–ê–ù–ò–ï –ó–ê–î–ê–ß–ò

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –≥–æ—Ä–æ–¥–æ–≤ —Ç–∞–∫, —á—Ç–æ–±—ã –∫—Ä—É–ø–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∞–ª–∏ —Ä–∞–π–æ–Ω—ã –∏ –≥–æ—Ä–æ–¥–∞-—Å–ø—É—Ç–Ω–∏–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:
- **–õ–æ–∑–Ω–∏—Ü–∞** (–≥–ª–∞–≤–Ω—ã–π –≥–æ—Ä–æ–¥) ‚Üí —Ä–∞–π–æ–Ω—ã: –¶–µ–Ω—Ç–∞—Ä, –õ–æ–∑–Ω–∏—á–∫–æ –ø–æ—ô–µ, –ë–∞–Ω—è –ö–æ–≤–∏—ô–∞—á–∞, –ö–ª—É–ø—Ü–∏, –¢—Ä—à–∏—õ –∏ –¥—Ä.
- **–ë–µ–ª–≥—Ä–∞–¥** (–≥–ª–∞–≤–Ω—ã–π –≥–æ—Ä–æ–¥) ‚Üí —Ä–∞–π–æ–Ω—ã: –ù–æ–≤–∏ –ë–µ–æ–≥—Ä–∞–¥, –°—Ç–∞—Ä–∏ –ì—Ä–∞–¥, –í–æ–∂–¥–æ–≤–∞—Ü, –í—Ä–∞—á–∞—Ä, –ó–µ–º—É–Ω –∏ –¥—Ä.

### –ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –ø–æ–∏—Å–∫**: –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "–í—Å–µ —Ä–∞–π–æ–Ω—ã" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
2. **–°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–∞–π–æ–Ω –û–ë–Ø–ó–ê–¢–ï–õ–ï–ù –¥–ª—è –≤—ã–±–æ—Ä–∞
3. **–ö–∞—Ä—Ç—ã**: –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–π–æ–Ω–µ –ø—Ä–∏ –µ–≥–æ –≤—ã–±–æ—Ä–µ
4. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –ì–æ—Ä–æ–¥ "–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞" –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å —Ä–∞–π–æ–Ω–æ–º "–õ–æ–∑–Ω–∏—Ü—ã"
5. **–ü–µ—Ä–µ–≤–æ–¥—ã**: –í—Å–µ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ —Å–µ—Ä–±—Å–∫–æ–º

---

## 2. –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –°–ò–°–¢–ï–ú–´

### 2.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü–∞ `cities`:**
```sql
id (int4, PK), name (text), latitude (text), longitude (text), created_at (timestamp)
```

**–¢–∞–±–ª–∏—Ü–∞ `districts`:**
```sql
id (uuid, PK), name (text), city_id (int4, FK ‚Üí cities.id),
is_active (bool), sort_order (int4), created_at (timestamp)
```

**–¢–∞–±–ª–∏—Ü–∞ `properties`:**
```sql
..., city_id (int4, FK), district_id (uuid, FK), ...
```

### 2.2. –¢–µ–∫—É—â–∏–µ –≥–æ—Ä–æ–¥–∞ –≤ –ë–î (–ø—Ä–∏–º–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫):
- –õ–æ–∑–Ω–∏—Ü–∞, –ë–µ–ª–≥—Ä–∞–¥, –ö—Ä–∞–≥—É—ò–µ–≤–∞—Ü, –ù–∏—à, –ù–æ–≤–∏ –°–∞–¥, –°—É–±–æ—Ç–∏—Ü–∞
- –ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞ (–æ—Ç–¥–µ–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ —Ä–∞–π–æ–Ω)

### 2.3. –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:
- `district_id` –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö ‚Äî **–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ** –ø–æ–ª–µ
- –†–∞–π–æ–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–π–æ–Ω—É —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

---

## 3. –≠–¢–ê–ü 1: –ë–ê–ó–ê –î–ê–ù–ù–´–•

### 3.1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —Ç–∞–±–ª–∏—Ü—É districts

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ù—É–∂–Ω—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç—ã –Ω–∞ —Ä–∞–π–æ–Ω–µ!

**–ú–∏–≥—Ä–∞—Ü–∏—è SQL:**
```sql
-- –§–∞–π–ª: supabase/migrations/YYYYMMDDHHMMSS_add_coordinates_to_districts.sql

-- –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ä–∞–π–æ–Ω–æ–≤
ALTER TABLE districts ADD COLUMN IF NOT EXISTS latitude TEXT;
ALTER TABLE districts ADD COLUMN IF NOT EXISTS longitude TEXT;

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –æ—Ç–∫–∞—Ç–∞:
-- ALTER TABLE districts DROP COLUMN latitude;
-- ALTER TABLE districts DROP COLUMN longitude;
```

### 3.2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã districts –¥–∞–Ω–Ω—ã–º–∏

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: –í—ã–ø–æ–ª–Ω—è—Ç—å —Å—Ç—Ä–æ–≥–æ –ü–û–°–õ–ï –±—ç–∫–∞–ø–∞ –±–∞–∑—ã!

**–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞–π–æ–Ω–æ–≤ –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤ –°–µ—Ä–±–∏–∏:**

```sql
-- –§–∞–π–ª: supabase/migrations/YYYYMMDDHHMMSS_seed_districts.sql

-- =====================================================
-- –õ–û–ó–ù–ò–¶–ê (city_id –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID)
-- =====================================================
-- –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º ID –≥–æ—Ä–æ–¥–∞ –õ–æ–∑–Ω–∏—Ü–∞
-- SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞';

INSERT INTO districts (name, city_id, is_active, sort_order, latitude, longitude) VALUES
-- –†–∞–π–æ–Ω—ã –≥–æ—Ä–æ–¥–∞ –õ–æ–∑–Ω–∏—Ü–∞
('–¶–µ–Ω—Ç–∞—Ä', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 1, '44.5333', '19.2256'),
('–õ–æ–∑–Ω–∏—á–∫–æ –ø–æ—ô–µ', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 2, '44.5400', '19.2300'),
('–ö–ª—É–ø—Ü–∏', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 3, '44.5200', '19.2100'),
('–¢—Ä—à–∏—õ', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 4, '44.4667', '19.1667'),
('–ö–æ—Ä–µ–Ω–∏—Ç–∞', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 5, '44.5100', '19.2400'),
('–à–∞–¥–∞—Ä', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 6, '44.4800', '19.2800'),
-- –ì–æ—Ä–æ–¥–∞-—Å–ø—É—Ç–Ω–∏–∫–∏ –∫–∞–∫ —Ä–∞–π–æ–Ω—ã
('–ë–∞—ö–∞ –ö–æ–≤–∏—ô–∞—á–∞', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 10, '44.5147', '19.1433'),
('–ö–æ–≤–∏—ô–∞—á–∞ –ë–∞—ö–∞', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 11, '44.5147', '19.1433'),
('–ú–∞–ª–∏ –ó–≤–æ—Ä–Ω–∏–∫', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 12, '44.3964', '19.1122'),
('–â—É–±–æ–≤–∏—ò–∞', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 13, '44.1875', '19.3781'),
('–ö—Ä—É–ø–∞—ö', (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'), true, 14, '44.3667', '19.3667');

-- =====================================================
-- –ë–ï–õ–ì–†–ê–î (city_id –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID)
-- =====================================================
INSERT INTO districts (name, city_id, is_active, sort_order, latitude, longitude) VALUES
-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ —Ä–∞–π–æ–Ω—ã
('–°—Ç–∞—Ä–∏ –ì—Ä–∞–¥', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 1, '44.8184', '20.4586'),
('–í—Ä–∞—á–∞—Ä', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 2, '44.7969', '20.4822'),
('–°–∞–≤—Å–∫–∏ –í–µ–Ω–∞—Ü', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 3, '44.7903', '20.4467'),
('–ü–∞–ª–∏–ª—É–ª–∞', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 4, '44.8200', '20.4800'),
('–ó–≤–µ–∑–¥–∞—Ä–∞', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 5, '44.7833', '20.5167'),
('–í–æ–∂–¥–æ–≤–∞—Ü', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 6, '44.7500', '20.4833'),
-- –ù–æ–≤—ã–µ —Ä–∞–π–æ–Ω—ã
('–ù–æ–≤–∏ –ë–µ–æ–≥—Ä–∞–¥', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 7, '44.8058', '20.4097'),
('–ó–µ–º—É–Ω', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 8, '44.8439', '20.4011'),
('–ß—É–∫–∞—Ä–∏—Ü–∞', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 9, '44.7500', '20.3667'),
('–†–∞–∫–æ–≤–∏—Ü–∞', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 10, '44.7333', '20.4167'),
-- –ü—Ä–∏–≥–æ—Ä–æ–¥—ã
('–°—É—Ä—á–∏–Ω', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 11, '44.7906', '20.2833'),
('–ë–∞—Ä–∞—ò–µ–≤–æ', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 12, '44.6000', '20.4167'),
('–ì—Ä–æ—Ü–∫–∞', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 13, '44.6667', '20.7167'),
('–õ–∞–∑–∞—Ä–µ–≤–∞—Ü', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 14, '44.3833', '20.2500'),
('–ú–ª–∞–¥–µ–Ω–æ–≤–∞—Ü', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 15, '44.4333', '20.7000'),
('–û–±—Ä–µ–Ω–æ–≤–∞—Ü', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 16, '44.6500', '20.2000'),
('–°–æ–ø–æ—Ç', (SELECT id FROM cities WHERE name = '–ë–µ–ª–≥—Ä–∞–¥'), true, 17, '44.5167', '20.5833');

-- =====================================================
-- –ù–û–í–ò –°–ê–î (city_id –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID)
-- =====================================================
INSERT INTO districts (name, city_id, is_active, sort_order, latitude, longitude) VALUES
('–¶–µ–Ω—Ç–∞—Ä', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 1, '45.2517', '19.8369'),
('–î–µ—Ç–µ–ª–∏–Ω–∞—Ä–∞', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 2, '45.2600', '19.8100'),
('–õ–∏–º–∞–Ω', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 3, '45.2400', '19.8300'),
('–ù–æ–≤–æ –ù–∞—Å–µ—ô–µ', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 4, '45.2600', '19.7900'),
('–ü–æ–¥–±–∞—Ä–∞', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 5, '45.2550', '19.8450'),
('–†–æ—Ç–∫–≤–∞—Ä–∏—ò–∞', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 6, '45.2500', '19.8500'),
('–°–∞–ª–∞—ò–∫–∞', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 7, '45.2650', '19.8200'),
('–¢–µ–ª–µ–ø', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 8, '45.2350', '19.8100'),
('–§—É—Ç–æ–≥', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 9, '45.2397', '19.7217'),
('–ü–µ—Ç—Ä–æ–≤–∞—Ä–∞–¥–∏–Ω', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 10, '45.2483', '19.8614'),
('–°—Ä–µ–º—Å–∫–∞ –ö–∞–º–µ–Ω–∏—Ü–∞', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 11, '45.2217', '19.8383'),
('–í–µ—Ç–µ—Ä–Ω–∏–∫', (SELECT id FROM cities WHERE name = '–ù–æ–≤–∏-–°–∞–¥'), true, 12, '45.2536', '19.7683');

-- =====================================================
-- –ù–ò–® (city_id –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID)
-- =====================================================
INSERT INTO districts (name, city_id, is_active, sort_order, latitude, longitude) VALUES
('–¶–µ–Ω—Ç–∞—Ä', (SELECT id FROM cities WHERE name = '–ù–∏—à'), true, 1, '43.3209', '21.8958'),
('–ú–µ–¥–∏—ò–∞–Ω–∞', (SELECT id FROM cities WHERE name = '–ù–∏—à'), true, 2, '43.3150', '21.8850'),
('–ü–∞–ª–∏–ª—É–ª–∞', (SELECT id FROM cities WHERE name = '–ù–∏—à'), true, 3, '43.3350', '21.9150'),
('–ü–∞–Ω—Ç–µ–ª–µ—ò', (SELECT id FROM cities WHERE name = '–ù–∏—à'), true, 4, '43.3100', '21.9200'),
('–¶—Ä–≤–µ–Ω–∏ –ö—Ä—Å—Ç', (SELECT id FROM cities WHERE name = '–ù–∏—à'), true, 5, '43.3050', '21.8700'),
('–ù–∏—à–∫–∞ –ë–∞—ö–∞', (SELECT id FROM cities WHERE name = '–ù–∏—à'), true, 6, '43.2850', '21.9550');

-- =====================================================
-- –ö–†–ê–ì–£–à–ï–í–ê–¶ (city_id –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID)
-- =====================================================
INSERT INTO districts (name, city_id, is_active, sort_order, latitude, longitude) VALUES
('–¶–µ–Ω—Ç–∞—Ä', (SELECT id FROM cities WHERE name = '–ö—Ä–∞–≥—É—ò–µ–≤–∞—Ü'), true, 1, '44.0128', '20.9114'),
('–ê–µ—Ä–æ–¥—Ä–æ–º', (SELECT id FROM cities WHERE name = '–ö—Ä–∞–≥—É—ò–µ–≤–∞—Ü'), true, 2, '44.0200', '20.9300'),
('–°—Ç–∞–Ω–æ–≤–æ', (SELECT id FROM cities WHERE name = '–ö—Ä–∞–≥—É—ò–µ–≤–∞—Ü'), true, 3, '44.0050', '20.9000'),
('–°—É—à–∏—Ü–∞', (SELECT id FROM cities WHERE name = '–ö—Ä–∞–≥—É—ò–µ–≤–∞—Ü'), true, 4, '44.0250', '20.9050'),
('–ï—Ä–¥–µ—á', (SELECT id FROM cities WHERE name = '–ö—Ä–∞–≥—É—ò–µ–≤–∞—Ü'), true, 5, '44.0000', '20.9200'),
('–ë—Ä–µ—Å–Ω–∏—Ü–∞', (SELECT id FROM cities WHERE name = '–ö—Ä–∞–≥—É—ò–µ–≤–∞—Ü'), true, 6, '43.9950', '20.8900');

-- =====================================================
-- –°–£–ë–û–¢–ò–¶–ê (city_id –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID)
-- =====================================================
INSERT INTO districts (name, city_id, is_active, sort_order, latitude, longitude) VALUES
('–¶–µ–Ω—Ç–∞—Ä', (SELECT id FROM cities WHERE name = '–°—É–±–æ—Ç–∏—Ü–∞'), true, 1, '46.1000', '19.6650'),
('–ú–∞–ª–∏ –ë–∞—ò–º–æ–∫', (SELECT id FROM cities WHERE name = '–°—É–±–æ—Ç–∏—Ü–∞'), true, 2, '46.0900', '19.6500'),
('–ù–æ–≤–∏ –ì—Ä–∞–¥', (SELECT id FROM cities WHERE name = '–°—É–±–æ—Ç–∏—Ü–∞'), true, 3, '46.1050', '19.6750'),
('–ü–∞–ª–∏—õ', (SELECT id FROM cities WHERE name = '–°—É–±–æ—Ç–∏—Ü–∞'), true, 4, '46.1017', '19.7550'),
('–ë–∞—ò–º–æ–∫', (SELECT id FROM cities WHERE name = '–°—É–±–æ—Ç–∏—Ü–∞'), true, 5, '45.9667', '19.3833');
```

### 3.3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ TypeScript

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
```bash
npx supabase gen types typescript --project-id YOUR_PROJECT_ID > src/lib/database.types.ts
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å –≤ `src/lib/database.types.ts`:**
```typescript
districts: {
  Row: {
    city_id: number
    created_at: string
    id: string
    is_active: boolean
    name: string
    sort_order: number
    latitude: string | null  // –î–û–ë–ê–í–ò–¢–¨
    longitude: string | null // –î–û–ë–ê–í–ò–¢–¨
  }
  // ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è Insert –∏ Update
}
```

---

## 4. –≠–¢–ê–ü 2: –ú–ò–ì–†–ê–¶–ò–Ø –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –î–ê–ù–ù–´–•

### 4.1. –ú–∏–≥—Ä–∞—Ü–∏—è –≥–æ—Ä–æ–¥–∞ "–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞" –≤ —Ä–∞–π–æ–Ω

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è!

**–®–∞–≥ 1: –ù–∞–π—Ç–∏ ID –≥–æ—Ä–æ–¥–∞ "–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞" –∏ ID –Ω–æ–≤–æ–≥–æ —Ä–∞–π–æ–Ω–∞**
```sql
-- –ü–æ–ª—É—á–∏—Ç—å ID –≥–æ—Ä–æ–¥–∞
SELECT id, name FROM cities WHERE name ILIKE '%–ë–∞–Ω—è%' OR name ILIKE '%–ö–æ–≤–∏—ô–∞—á–∞%' OR name ILIKE '%Banja%';

-- –ü–æ–ª—É—á–∏—Ç—å ID —Ä–∞–π–æ–Ω–∞ (–ø–æ—Å–ª–µ seed_districts)
SELECT id FROM districts WHERE name = '–ë–∞—ö–∞ –ö–æ–≤–∏—ô–∞—á–∞' AND city_id = (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞');
```

**–®–∞–≥ 2: –ú–∏–≥—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π**
```sql
-- –§–∞–π–ª: supabase/migrations/YYYYMMDDHHMMSS_migrate_banja_koviljaca.sql

-- –í–ê–ñ–ù–û: –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SELECT –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö!
-- SELECT * FROM properties WHERE city_id = (SELECT id FROM cities WHERE name = '–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞');

-- –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
BEGIN;

-- 1. –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è: –º–µ–Ω—è–µ–º city_id –Ω–∞ –õ–æ–∑–Ω–∏—Ü—É –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º district_id
UPDATE properties
SET
  city_id = (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'),
  district_id = (SELECT id FROM districts WHERE name = '–ë–∞—ö–∞ –ö–æ–≤–∏—ô–∞—á–∞' AND city_id = (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞'))
WHERE city_id = (SELECT id FROM cities WHERE name ILIKE '%–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞%' OR name ILIKE '%Banja Koviljaƒça%');

-- 2. –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û: –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å—Ç–∞—Ä—ã–π –≥–æ—Ä–æ–¥ (–Ω–µ —É–¥–∞–ª—è–µ–º –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
UPDATE cities SET name = '[ARCHIVED] ' || name WHERE name ILIKE '%–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞%' OR name ILIKE '%Banja Koviljaƒça%';

-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
COMMIT;

-- –û–¢–ö–ê–¢ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫):
-- ROLLBACK;
```

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏**
```sql
-- –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª–∏
SELECT
  p.id,
  p.title,
  c.name as city,
  d.name as district
FROM properties p
LEFT JOIN cities c ON p.city_id = c.id
LEFT JOIN districts d ON p.district_id = d.id
WHERE d.name = '–ë–∞—ö–∞ –ö–æ–≤–∏—ô–∞—á–∞';
```

---

## 5. –≠–¢–ê–ü 3: –ú–û–ë–ò–õ–¨–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï

### 5.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ District

**–§–∞–π–ª: `src/contexts/PropertyContext.tsx`**

–ù–∞–π—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `District` –∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:
```typescript
export interface District {
  id: string
  name: string
  city_id: number
  is_active?: boolean
  sort_order?: number
  latitude?: string | null  // –î–û–ë–ê–í–ò–¢–¨
  longitude?: string | null // –î–û–ë–ê–í–ò–¢–¨
}
```

### 5.2. –°–¥–µ–ª–∞—Ç—å —Ä–∞–π–æ–Ω –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ú –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

**–§–∞–π–ª: `src/screens/AddPropertyScreen.tsx`**

**–®–∞–≥ 1: –ù–∞–π—Ç–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã (—Ñ—É–Ω–∫—Ü–∏—è validate –∏–ª–∏ handleSubmit)**

–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:
```typescript
// –í —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–±–∞–≤–∏—Ç—å:
if (!districtId) {
  Alert.alert(t('common.error'), t('property.validation.districtRequired'));
  return false;
}
```

**–®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

–ù–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é —Å –≤—ã–±–æ—Ä–æ–º —Ä–∞–π–æ–Ω–∞ –∏ –∏–∑–º–µ–Ω–∏—Ç—å label:
```typescript
// –ë—ã–ª–æ:
<Text>{t('property.districtOptional')}</Text>

// –°—Ç–∞–ª–æ:
<Text>{t('property.district')} *</Text>
```

**–®–∞–≥ 3: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É, –µ—Å–ª–∏ —Ä–∞–π–æ–Ω –Ω–µ –≤—ã–±—Ä–∞–Ω**
```typescript
// –í —É—Å–ª–æ–≤–∏–∏ disabled –∫–Ω–æ–ø–∫–∏ Submit –¥–æ–±–∞–≤–∏—Ç—å:
disabled={!districtId || uploading || ...}
```

### 5.3. –°–¥–µ–ª–∞—Ç—å —Ä–∞–π–æ–Ω –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ú –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

**–§–∞–π–ª: `src/screens/EditPropertyScreen.tsx`**

–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞–∫ –≤ AddPropertyScreen (—Å–º. 5.2).

### 5.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ MapScreen –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–π–æ–Ω–µ

**–§–∞–π–ª: `src/screens/MapScreen.tsx`**

**–ù–∞–π—Ç–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ mapCenter (useMemo) –∏ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É:**

```typescript
const mapCenter = useMemo(() => {
  // –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω —Ä–∞–π–æ–Ω —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ - —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º—Å—è –Ω–∞ –Ω—ë–º
  if (selectedDistrict?.latitude && selectedDistrict?.longitude) {
    const lat = parseFloat(String(selectedDistrict.latitude));
    const lng = parseFloat(String(selectedDistrict.longitude));
    if (Number.isFinite(lat) && Number.isFinite(lng)) {
      return { lat, lng };
    }
  }

  // –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –≥–æ—Ä–æ–¥ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
  if (selectedCity?.latitude && selectedCity?.longitude) {
    return {
      lat: parseFloat(String(selectedCity.latitude)),
      lng: parseFloat(String(selectedCity.longitude)),
    };
  }

  // –ü–†–ò–û–†–ò–¢–ï–¢ 3: –ü–µ—Ä–≤—ã–π –º–∞—Ä–∫–µ—Ä –Ω–∞ –∫–∞—Ä—Ç–µ
  if (mapPoints.length > 0) {
    const [lng, lat] = mapPoints[0].geometry.coordinates;
    return { lat, lng };
  }

  // –ü–†–ò–û–†–ò–¢–ï–¢ 4: –ë–µ–ª–≥—Ä–∞–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  return { lat: 44.787197, lng: 20.457273 };
}, [mapPoints, selectedCity, selectedDistrict]);
```

**–í–ê–ñ–ù–û**: –ù—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å `selectedDistrict` —á–µ—Ä–µ–∑ route.params –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
```typescript
// –í –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–æ–±–∞–≤–∏—Ç—å:
const { selectedDistrict } = route.params || {};
// –ò–õ–ò
const { selectedDistrict } = useProperties();
```

### 5.5. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑—É–º–∞ –∫–∞—Ä—Ç—ã –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–π–æ–Ω–∞

```typescript
// –í mapHtml, –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è zoom:
const zoom = selectedDistrict
  ? 14  // –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π zoom –¥–ª—è —Ä–∞–π–æ–Ω–∞
  : (mapPoints.length > 1 ? 10 : 12);
```

### 5.6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ HomeScreen - –ª–æ–≥–∏–∫–∞ "–í—Å–µ —Ä–∞–π–æ–Ω—ã"

**–§–∞–π–ª: `src/screens/HomeScreen.tsx`**

–õ–æ–≥–∏–∫–∞ —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è:
- –ü—Ä–∏ `selectedDistrict = null` –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–∞–π–æ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

–ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–í—Å–µ —Ä–∞–π–æ–Ω—ã" –∫–∞–∫ –ø–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ:
```typescript
// –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –≤—ã–±–æ—Ä–∞ —Ä–∞–π–æ–Ω–∞ –ø–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç:
<TouchableOpacity onPress={() => setSelectedDistrict(null)}>
  <Text>{t('filters.allDistricts')}</Text>
</TouchableOpacity>
```

### 5.7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ propertyService

**–§–∞–π–ª: `src/services/propertyService.ts`**

–í —Ñ—É–Ω–∫—Ü–∏–∏ `getDistricts` –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:
```typescript
const { data, error } = await supabase
  .from('districts')
  .select('id, name, city_id, is_active, sort_order, latitude, longitude')  // –î–æ–±–∞–≤–∏—Ç—å latitude, longitude
  .eq('city_id', cityId)
  .eq('is_active', true)
  .order('sort_order', { ascending: true })
  .order('name')
```

---

## 6. –≠–¢–ê–ü 4: –í–ï–ë-–°–ê–ô–¢

### 6.1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —Ä–∞–π–æ–Ω—É –≤ PropertyFilters

**–§–∞–π–ª: `web/components/property/PropertyFilters.tsx`**

**–®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å FilterState:**
```typescript
export interface FilterState {
  propertyType?: string;
  minPrice?: number;
  maxPrice?: number;
  minArea?: number;
  maxArea?: number;
  rooms?: number;
  cityId?: string;
  districtId?: string;  // –î–û–ë–ê–í–ò–¢–¨
}
```

**–®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ä–∞–π–æ–Ω–æ–≤:**
```typescript
const [districts, setDistricts] = useState<District[]>([]);
const [districtsLoading, setDistrictsLoading] = useState(false);
```

**–®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ä–∞–π–æ–Ω–æ–≤ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞:**
```typescript
useEffect(() => {
  if (filters.cityId) {
    fetchDistricts(Number(filters.cityId));
  } else {
    setDistricts([]);
  }
}, [filters.cityId]);

const fetchDistricts = async (cityId: number) => {
  setDistrictsLoading(true);
  const supabase = createClient();
  const { data } = await supabase
    .from('districts')
    .select('*')
    .eq('city_id', cityId)
    .eq('is_active', true)
    .order('sort_order')
    .order('name');
  setDistricts(data || []);
  setDistrictsLoading(false);
};
```

**–®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä —Ä–∞–π–æ–Ω–æ–≤ –≤ UI (–ø–æ—Å–ª–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞):**
```tsx
{/* District selector - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –≥–æ—Ä–æ–¥ */}
{filters.cityId && (
  <div>
    <label className="block text-sm font-medium text-text mb-2">
      {t('filters.selectDistrict')}
    </label>
    <select
      className="w-full px-4 py-2 bg-surface border border-border rounded-md text-text"
      value={filters.districtId || ''}
      onChange={(e) =>
        setFilters({ ...filters, districtId: e.target.value || undefined })
      }
      disabled={districtsLoading}
    >
      <option value="">{t('filters.allDistricts')}</option>
      {districts.map((district) => (
        <option key={district.id} value={district.id}>
          {district.name}
        </option>
      ))}
    </select>
  </div>
)}
```

### 6.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PropertyListingsClient

**–§–∞–π–ª: `web/components/property/PropertyListingsClient.tsx`**

**–®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ä–∞–π–æ–Ω–∞:**
```typescript
const [selectedDistrict, setSelectedDistrict] = useState<string | undefined>();
const [districts, setDistricts] = useState<District[]>([]);
```

**–®–∞–≥ 2: –í fetchProperties –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Ä–∞–π–æ–Ω—É:**
```typescript
// –ü–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –≥–æ—Ä–æ–¥—É
if (selectedDistrict) {
  query = query.eq('district_id', selectedDistrict);
}
```

**–®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä —Ä–∞–π–æ–Ω–æ–≤ –≤ UI (–ø–æ—Å–ª–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞):**
```tsx
{/* –í—ã–±–æ—Ä —Ä–∞–π–æ–Ω–∞ */}
{selectedCity && districts.length > 0 && (
  <select
    value={selectedDistrict || ''}
    onChange={(e) => setSelectedDistrict(e.target.value || undefined)}
    className="px-4 py-2 bg-surface border border-border rounded-lg text-text"
  >
    <option value="">{t('filters.allDistricts')}</option>
    {districts.map((district) => (
      <option key={district.id} value={district.id}>
        {district.name}
      </option>
    ))}
  </select>
)}
```

### 6.3. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–π–æ–Ω–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

**–§–∞–π–ª: `web/app/(routes)/add-property/page.tsx`** (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π)

–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:
```typescript
if (!formData.districtId) {
  setError(t('property.validation.districtRequired'));
  return;
}
```

### 6.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PropertyMap –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–π–æ–Ω–µ

**–§–∞–π–ª: `web/components/property/PropertyMap.tsx`**

–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (—Å–º. 5.4).

---

## 7. –≠–¢–ê–ü 5: –ü–ï–†–ï–í–û–î–´

### 7.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–§–∞–π–ª: `src/translations/ru.json`**

**–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–ª—é—á–∏:**
```json
{
  "property": {
    "district": "–†–∞–π–æ–Ω",
    "districtRequired": "–†–∞–π–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è",
    "validation": {
      "districtRequired": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω"
    }
  },
  "filters": {
    "allDistricts": "–í—Å–µ —Ä–∞–π–æ–Ω—ã",
    "selectDistrict": "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω",
    "noDistricts": "–î–ª—è —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –Ω–µ—Ç —Ä–∞–π–æ–Ω–æ–≤"
  },
  "districts": {
    "–¶–µ–Ω—Ç–∞—Ä": "–¶–µ–Ω—Ç—Ä",
    "–õ–æ–∑–Ω–∏—á–∫–æ –ø–æ—ô–µ": "–õ–æ–∑–Ω–∏—á–∫–æ –ø–æ–ª–µ",
    "–ë–∞—ö–∞ –ö–æ–≤–∏—ô–∞—á–∞": "–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞",
    "–ö–ª—É–ø—Ü–∏": "–ö–ª—É–ø—Ü–∏",
    "–¢—Ä—à–∏—õ": "–¢—Ä—à–∏—á",
    "–ö–æ—Ä–µ–Ω–∏—Ç–∞": "–ö–æ—Ä–µ–Ω–∏—Ç–∞",
    "–à–∞–¥–∞—Ä": "–Ø–¥–∞—Ä",
    "–ú–∞–ª–∏ –ó–≤–æ—Ä–Ω–∏–∫": "–ú–∞–ª—ã–π –ó–≤–æ—Ä–Ω–∏–∫",
    "–â—É–±–æ–≤–∏—ò–∞": "–õ—é–±–æ–≤–∏—è",
    "–ö—Ä—É–ø–∞—ö": "–ö—Ä—É–ø–∞–Ω—å",
    "–°—Ç–∞—Ä–∏ –ì—Ä–∞–¥": "–°—Ç–∞—Ä—ã–π –≥–æ—Ä–æ–¥",
    "–í—Ä–∞—á–∞—Ä": "–í—Ä–∞—á–∞—Ä",
    "–°–∞–≤—Å–∫–∏ –í–µ–Ω–∞—Ü": "–°–∞–≤—Å–∫–∏ –í–µ–Ω–∞—Ü",
    "–ü–∞–ª–∏–ª—É–ª–∞": "–ü–∞–ª–∏–ª—É–ª–∞",
    "–ó–≤–µ–∑–¥–∞—Ä–∞": "–ó–≤–µ–∑–¥–∞—Ä–∞",
    "–í–æ–∂–¥–æ–≤–∞—Ü": "–í–æ–∂–¥–æ–≤–∞—Ü",
    "–ù–æ–≤–∏ –ë–µ–æ–≥—Ä–∞–¥": "–ù–æ–≤—ã–π –ë–µ–ª–≥—Ä–∞–¥",
    "–ó–µ–º—É–Ω": "–ó–µ–º—É–Ω",
    "–ß—É–∫–∞—Ä–∏—Ü–∞": "–ß—É–∫–∞—Ä–∏—Ü–∞",
    "–†–∞–∫–æ–≤–∏—Ü–∞": "–†–∞–∫–æ–≤–∏—Ü–∞",
    "–°—É—Ä—á–∏–Ω": "–°—É—Ä—á–∏–Ω",
    "–ë–∞—Ä–∞—ò–µ–≤–æ": "–ë–∞—Ä–∞–µ–≤–æ",
    "–ì—Ä–æ—Ü–∫–∞": "–ì—Ä–æ—Ü–∫–∞",
    "–õ–∞–∑–∞—Ä–µ–≤–∞—Ü": "–õ–∞–∑–∞—Ä–µ–≤–∞—Ü",
    "–ú–ª–∞–¥–µ–Ω–æ–≤–∞—Ü": "–ú–ª–∞–¥–µ–Ω–æ–≤–∞—Ü",
    "–û–±—Ä–µ–Ω–æ–≤–∞—Ü": "–û–±—Ä–µ–Ω–æ–≤–∞—Ü",
    "–°–æ–ø–æ—Ç": "–°–æ–ø–æ—Ç",
    "–î–µ—Ç–µ–ª–∏–Ω–∞—Ä–∞": "–î–µ—Ç–µ–ª–∏–Ω–∞—Ä–∞",
    "–õ–∏–º–∞–Ω": "–õ–∏–º–∞–Ω",
    "–ù–æ–≤–æ –ù–∞—Å–µ—ô–µ": "–ù–æ–≤–æ–µ –ù–∞—Å–µ–ª—å–µ",
    "–ü–æ–¥–±–∞—Ä–∞": "–ü–æ–¥–±–∞—Ä–∞",
    "–†–æ—Ç–∫–≤–∞—Ä–∏—ò–∞": "–†–æ—Ç–∫–≤–∞—Ä–∏—è",
    "–°–∞–ª–∞—ò–∫–∞": "–°–∞–ª–∞–π–∫–∞",
    "–¢–µ–ª–µ–ø": "–¢–µ–ª–µ–ø",
    "–§—É—Ç–æ–≥": "–§—É—Ç–æ–≥",
    "–ü–µ—Ç—Ä–æ–≤–∞—Ä–∞–¥–∏–Ω": "–ü–µ—Ç—Ä–æ–≤–∞—Ä–∞–¥–∏–Ω",
    "–°—Ä–µ–º—Å–∫–∞ –ö–∞–º–µ–Ω–∏—Ü–∞": "–°—Ä–µ–º—Å–∫–∞ –ö–∞–º–µ–Ω–∏—Ü–∞",
    "–í–µ—Ç–µ—Ä–Ω–∏–∫": "–í–µ—Ç–µ—Ä–Ω–∏–∫",
    "–ú–µ–¥–∏—ò–∞–Ω–∞": "–ú–µ–¥–∏—è–Ω–∞",
    "–ü–∞–Ω—Ç–µ–ª–µ—ò": "–ü–∞–Ω—Ç–µ–ª–µ–π",
    "–¶—Ä–≤–µ–Ω–∏ –ö—Ä—Å—Ç": "–ö—Ä–∞—Å–Ω—ã–π –ö—Ä–µ—Å—Ç",
    "–ù–∏—à–∫–∞ –ë–∞—ö–∞": "–ù–∏—à—Å–∫–∞—è –ë–∞–Ω—è",
    "–ê–µ—Ä–æ–¥—Ä–æ–º": "–ê—ç—Ä–æ–¥—Ä–æ–º",
    "–°—Ç–∞–Ω–æ–≤–æ": "–°—Ç–∞–Ω–æ–≤–æ",
    "–°—É—à–∏—Ü–∞": "–°—É—à–∏—Ü–∞",
    "–ï—Ä–¥–µ—á": "–≠—Ä–¥–µ—á",
    "–ë—Ä–µ—Å–Ω–∏—Ü–∞": "–ë—Ä–µ—Å–Ω–∏—Ü–∞",
    "–ú–∞–ª–∏ –ë–∞—ò–º–æ–∫": "–ú–∞–ª—ã–π –ë–∞–π–º–æ–∫",
    "–ù–æ–≤–∏ –ì—Ä–∞–¥": "–ù–æ–≤—ã–π –ì–æ—Ä–æ–¥",
    "–ü–∞–ª–∏—õ": "–ü–∞–ª–∏—á",
    "–ë–∞—ò–º–æ–∫": "–ë–∞–π–º–æ–∫"
  }
}
```

### 7.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–±—Å–∫–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–§–∞–π–ª: `src/translations/sr.json`**

**–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–ª—é—á–∏:**
```json
{
  "property": {
    "district": "Deo grada",
    "districtRequired": "Deo grada je obavezan",
    "validation": {
      "districtRequired": "Molimo izaberite deo grada"
    }
  },
  "filters": {
    "allDistricts": "Svi delovi grada",
    "selectDistrict": "Izaberite deo grada",
    "noDistricts": "Za ovaj grad nema delova"
  },
  "districts": {
    "–¶–µ–Ω—Ç–∞—Ä": "Centar",
    "–õ–æ–∑–Ω–∏—á–∫–æ –ø–æ—ô–µ": "Lozniƒçko polje",
    "–ë–∞—ö–∞ –ö–æ–≤–∏—ô–∞—á–∞": "Banja Koviljaƒça",
    "–ö–ª—É–ø—Ü–∏": "Klupci",
    "–¢—Ä—à–∏—õ": "Tr≈°iƒá",
    "–ö–æ—Ä–µ–Ω–∏—Ç–∞": "Korenita",
    "–à–∞–¥–∞—Ä": "Jadar",
    "–ú–∞–ª–∏ –ó–≤–æ—Ä–Ω–∏–∫": "Mali Zvornik",
    "–â—É–±–æ–≤–∏—ò–∞": "Ljubovija",
    "–ö—Ä—É–ø–∞—ö": "Krupanj",
    "–°—Ç–∞—Ä–∏ –ì—Ä–∞–¥": "Stari Grad",
    "–í—Ä–∞—á–∞—Ä": "Vraƒçar",
    "–°–∞–≤—Å–∫–∏ –í–µ–Ω–∞—Ü": "Savski Venac",
    "–ü–∞–ª–∏–ª—É–ª–∞": "Palilula",
    "–ó–≤–µ–∑–¥–∞—Ä–∞": "Zvezdara",
    "–í–æ–∂–¥–æ–≤–∞—Ü": "Vo≈ædovac",
    "–ù–æ–≤–∏ –ë–µ–æ–≥—Ä–∞–¥": "Novi Beograd",
    "–ó–µ–º—É–Ω": "Zemun",
    "–ß—É–∫–∞—Ä–∏—Ü–∞": "ƒåukarica",
    "–†–∞–∫–æ–≤–∏—Ü–∞": "Rakovica",
    "–°—É—Ä—á–∏–Ω": "Surƒçin",
    "–ë–∞—Ä–∞—ò–µ–≤–æ": "Barajevo",
    "–ì—Ä–æ—Ü–∫–∞": "Grocka",
    "–õ–∞–∑–∞—Ä–µ–≤–∞—Ü": "Lazarevac",
    "–ú–ª–∞–¥–µ–Ω–æ–≤–∞—Ü": "Mladenovac",
    "–û–±—Ä–µ–Ω–æ–≤–∞—Ü": "Obrenovac",
    "–°–æ–ø–æ—Ç": "Sopot",
    "–î–µ—Ç–µ–ª–∏–Ω–∞—Ä–∞": "Detelinara",
    "–õ–∏–º–∞–Ω": "Liman",
    "–ù–æ–≤–æ –ù–∞—Å–µ—ô–µ": "Novo Naselje",
    "–ü–æ–¥–±–∞—Ä–∞": "Podbara",
    "–†–æ—Ç–∫–≤–∞—Ä–∏—ò–∞": "Rotkvarija",
    "–°–∞–ª–∞—ò–∫–∞": "Salajka",
    "–¢–µ–ª–µ–ø": "Telep",
    "–§—É—Ç–æ–≥": "Futog",
    "–ü–µ—Ç—Ä–æ–≤–∞—Ä–∞–¥–∏–Ω": "Petrovaradin",
    "–°—Ä–µ–º—Å–∫–∞ –ö–∞–º–µ–Ω–∏—Ü–∞": "Sremska Kamenica",
    "–í–µ—Ç–µ—Ä–Ω–∏–∫": "Veternik",
    "–ú–µ–¥–∏—ò–∞–Ω–∞": "Medijana",
    "–ü–∞–Ω—Ç–µ–ª–µ—ò": "Pantelej",
    "–¶—Ä–≤–µ–Ω–∏ –ö—Ä—Å—Ç": "Crveni Krst",
    "–ù–∏—à–∫–∞ –ë–∞—ö–∞": "Ni≈°ka Banja",
    "–ê–µ—Ä–æ–¥—Ä–æ–º": "Aerodrom",
    "–°—Ç–∞–Ω–æ–≤–æ": "Stanovo",
    "–°—É—à–∏—Ü–∞": "Su≈°ica",
    "–ï—Ä–¥–µ—á": "Erdeƒç",
    "–ë—Ä–µ—Å–Ω–∏—Ü–∞": "Bresnica",
    "–ú–∞–ª–∏ –ë–∞—ò–º–æ–∫": "Mali Bajmok",
    "–ù–æ–≤–∏ –ì—Ä–∞–¥": "Novi Grad",
    "–ü–∞–ª–∏—õ": "Paliƒá",
    "–ë–∞—ò–º–æ–∫": "Bajmok"
  }
}
```

### 7.3. –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–∞–π–æ–Ω–æ–≤ –≤ –∫–æ–¥–µ

**–§–∞–π–ª: `src/components/PropertyCard.tsx`** –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –º–µ—Å—Ç–∞

```typescript
// –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–≤–æ–¥ –¥–ª—è —Ä–∞–π–æ–Ω–æ–≤:
const districtName = property.district?.name
  ? t(`districts.${property.district.name}`, property.district.name)
  : '';
```

---

## 8. –≠–¢–ê–ü 6: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### 8.1. –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- [ ] **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è**:
  - [ ] –ë–µ–∑ –≤—ã–±–æ—Ä–∞ —Ä–∞–π–æ–Ω–∞ –Ω–µ–ª—å–∑—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
  - [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ä–∞–π–æ–Ω—ã
  - [ ] –†–∞–π–æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î

- [ ] **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è**:
  - [ ] –†–∞–π–æ–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
  - [ ] –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–π–æ–Ω
  - [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

- [ ] **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞**:
  - [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –í–°–ï –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞
  - [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–π–æ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
  - [ ] –ê–¥—Ä–µ—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ: "–†–∞–π–æ–Ω, –ì–æ—Ä–æ–¥, –£–ª–∏—Ü–∞"

- [ ] **–ö–∞—Ä—Ç–∞**:
  - [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≥–æ—Ä–æ–¥–µ
  - [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–π–æ–Ω–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ä–∞–π–æ–Ω–µ
  - [ ] –ú–∞—Ä–∫–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

- [ ] **–ú–∏–≥—Ä–∞—Ü–∏—è –ë–∞–Ω–∏ –ö–æ–≤–∏–ª—è—á–∞**:
  - [ ] –°—Ç–∞—Ä—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ä–∞–π–æ–Ω–µ "–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞" –≥–æ—Ä–æ–¥–∞ –õ–æ–∑–Ω–∏—Ü–∞
  - [ ] –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

### 8.2. –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–±-—Å–∞–π—Ç–∞

- [ ] **–§–∏–ª—å—Ç—Ä—ã**:
  - [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–µ–ª–µ–∫—Ç–æ—Ä —Ä–∞–π–æ–Ω–∞
  - [ ] "–í—Å–µ —Ä–∞–π–æ–Ω—ã" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞
  - [ ] –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–∞–π–æ–Ω —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è

- [ ] **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è**:
  - [ ] –†–∞–π–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
  - [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

- [ ] **–ö–∞—Ä—Ç–∞**:
  - [ ] –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–π–æ–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 8.3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–æ –∏ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
-- –î–û:
SELECT COUNT(*) FROM properties WHERE city_id = (SELECT id FROM cities WHERE name ILIKE '%–ë–∞–Ω—è –ö–æ–≤%');

-- –ü–û–°–õ–ï:
SELECT COUNT(*) FROM properties
WHERE city_id = (SELECT id FROM cities WHERE name = '–õ–æ–∑–Ω–∏—Ü–∞')
  AND district_id = (SELECT id FROM districts WHERE name = '–ë–∞—ö–∞ –ö–æ–≤–∏—ô–∞—á–∞');
```

---

## 9. –ü–†–ï–î–û–°–¢–ï–†–ï–ñ–ï–ù–ò–Ø –ò –†–ò–°–ö–ò

### üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ï–î–û–°–¢–ï–†–ï–ñ–ï–ù–ò–Ø

1. **–ë–≠–ö–ê–ü –ë–ê–ó–´ –î–ê–ù–ù–´–•**
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
   - –ö–æ–º–∞–Ω–¥–∞: `pg_dump -U username -d database_name > backup_YYYYMMDD.sql`

2. **–ù–ï –£–î–ê–õ–Ø–¢–¨ –î–ê–ù–ù–´–ï**
   - –ì–æ—Ä–æ–¥ "–ë–∞–Ω—è –ö–æ–≤–∏–ª—è—á–∞" –Ω–µ —É–¥–∞–ª—è—Ç—å, –∞ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∞—Ä—Ö–∏–≤–Ω—ã–π
   - –†–∞–π–æ–Ω—ã –Ω–µ —É–¥–∞–ª—è—Ç—å, —Ç–æ–ª—å–∫–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å (`is_active = false`)

3. **–¢–†–ê–ù–ó–ê–ö–¶–ò–ò**
   - –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ BEGIN/COMMIT
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å ROLLBACK

4. **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–ê STAGING**
   - –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –±–∞–∑–µ
   - –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–∞ –ø—Ä–æ–¥–µ

5. **–ò–ù–ö–†–ï–ú–ï–ù–¢–ê–õ–¨–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø**
   - –ù–µ –¥–µ–ª–∞—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É
   - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ë–î ‚Üí –ú–æ–±–∏–ª–∫–∞ ‚Üí –í–µ–±

### ‚ö†Ô∏è –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| –ù–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç –≤ SELECT | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ILIKE –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –ø–æ–∏—Å–∫–∞ |
| –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ä–∞–π–æ–Ω–æ–≤ –Ω–µ—Ç–æ—á–Ω—ã–µ | –£—Ç–æ—á–Ω–∏—Ç—å —á–µ—Ä–µ–∑ Google Maps API –∏–ª–∏ –≤—Ä—É—á–Ω—É—é |
| –ö—ç—à —Ä–∞–π–æ–Ω–æ–≤ —É—Å—Ç–∞—Ä–µ–ª | –û—á–∏—Å—Ç–∏—Ç—å AsyncStorage: `AsyncStorage.removeItem('domgo_districts_*')` |
| –û–±—ä—è–≤–ª–µ–Ω–∏—è –Ω–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –≤ WHERE |
| –†–∞–π–æ–Ω –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JOIN –≤ –∑–∞–ø—Ä–æ—Å–µ properties |

### üìã –ü–û–†–Ø–î–û–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø

1. ‚úÖ –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ latitude/longitude)
3. ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ districts –¥–∞–Ω–Ω—ã–º–∏
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging
5. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ TypeScript —Ç–∏–ø–æ–≤
6. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
7. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
8. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–±-—Å–∞–π—Ç–∞
9. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-—Å–∞–π—Ç–∞
10. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ë–∞–Ω–∏ –ö–æ–≤–∏–ª—è—á–∞
11. ‚úÖ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
12. ‚úÖ –†–µ–ª–∏–∑

---

## 10. –ß–ï–ö-–õ–ò–°–¢ –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è latitude/longitude –≤ districts
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è
- [ ] –ó–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ districts –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã TypeScript —Ç–∏–ø—ã

### –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] District –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] AddPropertyScreen: —Ä–∞–π–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- [ ] EditPropertyScreen: —Ä–∞–π–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- [ ] MapScreen: —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–π–æ–Ω–µ
- [ ] propertyService: –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ä–∞–π–æ–Ω–∞
- [ ] –ü–µ—Ä–µ–≤–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã

### –í–µ–±-—Å–∞–π—Ç
- [ ] FilterState –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] PropertyFilters: –¥–æ–±–∞–≤–ª–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä —Ä–∞–π–æ–Ω–∞
- [ ] PropertyListingsClient: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–π–æ–Ω—É
- [ ] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è: —Ä–∞–π–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- [ ] –ü–µ—Ä–µ–≤–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã)

### –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø –±–∞–∑—ã
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω SQL —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ staging
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ú–æ–±–∏–ª–∫–∞: —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- [ ] –ú–æ–±–∏–ª–∫–∞: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- [ ] –ú–æ–±–∏–ª–∫–∞: –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- [ ] –ú–æ–±–∏–ª–∫–∞: –∫–∞—Ä—Ç–∞
- [ ] –í–µ–±: —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- [ ] –í–µ–±: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- [ ] –í–µ–±: –∫–∞—Ä—Ç–∞

---

## –§–ê–ô–õ–´ –î–õ–Ø –ò–ó–ú–ï–ù–ï–ù–ò–Ø (–°–í–û–î–ö–ê)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- `supabase/migrations/YYYYMMDDHHMMSS_add_coordinates_to_districts.sql` (—Å–æ–∑–¥–∞—Ç—å)
- `supabase/migrations/YYYYMMDDHHMMSS_seed_districts.sql` (—Å–æ–∑–¥–∞—Ç—å)
- `supabase/migrations/YYYYMMDDHHMMSS_migrate_banja_koviljaca.sql` (—Å–æ–∑–¥–∞—Ç—å)

### –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
- `src/lib/database.types.ts` - –¥–æ–±–∞–≤–∏—Ç—å latitude/longitude –≤ District
- `src/contexts/PropertyContext.tsx` - –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å District
- `src/screens/AddPropertyScreen.tsx` - —Å–¥–µ–ª–∞—Ç—å —Ä–∞–π–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º
- `src/screens/EditPropertyScreen.tsx` - —Å–¥–µ–ª–∞—Ç—å —Ä–∞–π–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º
- `src/screens/MapScreen.tsx` - —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–π–æ–Ω–µ
- `src/services/propertyService.ts` - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- `src/translations/ru.json` - –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã
- `src/translations/sr.json` - –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã

### –í–µ–±-—Å–∞–π—Ç:
- `web/components/property/PropertyFilters.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–π–æ–Ω—É
- `web/components/property/PropertyListingsClient.tsx` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–π–æ–Ω—É
- `web/components/property/PropertyMap.tsx` - —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–π–æ–Ω–µ
- `web/app/(routes)/add-property/page.tsx` - —Å–¥–µ–ª–∞—Ç—å —Ä–∞–π–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

**–ê–≤—Ç–æ—Ä –ø–ª–∞–Ω–∞:** Claude AI
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-08
**–í–µ—Ä—Å–∏—è:** 1.0
