# üß† –ü–∞–º—è—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ DomGoMobile

## 1. –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞
- –û–±—â–µ–Ω–∏–µ, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è **—Å—Ç—Ä–æ–≥–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ** (`RULES.md`). –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∑–∞–ø—Ä–µ—â—ë–Ω –¥–∞–∂–µ –≤ –ª–æ–≥–∞—Ö.
- –£—á–∏—Ç—ã–≤–∞–µ–º –≤–µ—Å—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞; –Ω–µ –∑–∞–¥–∞—ë–º –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –±—ã–ª –æ—Ç–≤–µ—Ç.
- –ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ–º—Å—è TypeScript –±–µ–∑ `any`; —Å–æ–±–ª—é–¥–∞–µ–º `typescript_safety`, `ui_consistency`, `performance_optimization`, `database_consistency`.
- –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã Supabase –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ + `supabase gen types typescript`.
- UI: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Å–≤–µ—Ç–ª—É—é/—Ç—ë–º–Ω—É—é —Ç–µ–º—É –∏ —Å–∏—Å—Ç–µ–º—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (`ru`, `sr`).

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç–µ–∫
- –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã: Android, iOS, web (desktop/mobile). React Native 0.76.9 + Expo ~52 + TypeScript 5.9.2 + Hermes. –í–µ–±-–≤–µ—Ä—Å–∏—è –Ω–∞ React Native Web.
- –°—Ç–∞—Ä—Ç: `index.ts` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç Sentry –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç `App.tsx`. –ù–∞–≤–∏–≥–∞—Ü–∏—è (`AppNavigator`) –æ–±—ë—Ä–Ω—É—Ç–∞ –≤ Auth/Language/Theme/Favorites/Property/Alert –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã + `ErrorBoundary`.
- Deep Link-–∏: `domgomobile://auth/callback`, `domgomobile://property/...`, `domgo.rs/property/...`. –î–ª—è —à–∞—Ä–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GitHub Pages `property.html` —Å fallback (—ç–∫—Ä–∞–Ω ¬´–û—Ç–∫—Ä—ã–≤–∞–µ–º –æ–±—ä—è–≤–ª–µ–Ω–∏–µ‚Ä¶¬ª –ø—Ä–µ–¥–ª–∞–≥–∞—é—â–∏–π Web/Play Store).

## 3. –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ –º–æ–¥—É–ª–∏
- `src/services/propertyService.ts`: CRUD –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤ Supabase, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, retry, –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π ‚â§5 –ú–ë (jpg/jpeg/png/webp), —Ä–∞–±–æ—Ç–∞ —Å Supabase Storage, LRU-–∫—ç—à–∏ `propertyCache`/`apiCache`.
- `src/contexts/PropertyContext.tsx`: —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ (`all/sale/rent/newBuildings`), throttling –∑–∞–ø—Ä–æ—Å–æ–≤ (‚â•5 –º–∏–Ω—É—Ç), –≤—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞, –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞.
- `AuthContext`/`FavoritesContext`: Supabase Auth + —Ç–∞–±–ª–∏—Ü–∞ `favorites`. –°–µ—Å—Å–∏–∏ –≤ AsyncStorage (`autoRefreshToken`, `persistSession` –≤–∫–ª—é—á–µ–Ω—ã).
- `AppVersionManager`: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è/—Å–±–æ—Ä–∫–∏, –æ—á–∏—â–∞–µ—Ç AsyncStorage/FileSystem/LRU –ø—Ä–∏ —Å–º–µ–Ω–µ –≤–µ—Ä—Å–∏–∏. Expo OTA –æ—Ç–∫–ª—é—á–µ–Ω—ã, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–µ–ª–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é.
- Observability: `src/utils/sentry.ts` (DSN –∏–∑ `.env`, —Ç–µ–≥ `app.version`) –∏ `src/utils/logger.ts`.
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: i18next (`src/translations/{ru,sr}.json`). –õ—é–±—ã–µ –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –æ–±–∞ —Ñ–∞–π–ª–∞.

## 4. –î–∞–Ω–Ω—ã–µ –∏ Supabase
- –ë–∞–∑–∞ –æ–ø–∏—Å–∞–Ω–∞ –≤ `DATABASE_SCHEMA.md` + `supabase/export/*`. –¢–∞–±–ª–∏—Ü—ã: `users`, `cities`, `properties`, `agency_profiles`, `favorites`.
- –í–∫–ª—é—á—ë–Ω RLS: –¥–µ–π—Å—Ç–≤–∏—è —É—á–∏—Ç—ã–≤–∞—é—Ç `user_id`/`agency_id`. –¢—Ä–µ–±—É–µ–º—ã–µ –ø–æ–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤ `RULES.md`.
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã: –º–∏–≥—Ä–∞—Ü–∏—è + `supabase gen types typescript`.

## 5. –°–±–æ—Ä–∫–∞ –∏ —Ä–µ–ª–∏–∑—ã
### 5.1 –°–∫—Ä–∏–ø—Ç—ã
- –õ–æ–∫–∞–ª—å–Ω—ã–µ APK: `build-simple-apk.sh`, `build-local-apk.sh`, `build-dev-apk.sh`, `build-local-user-apk.sh`.
- –ü—Ä–æ—á–∏–µ —É—Ç–∏–ª–∏—Ç—ã: `build-apk-eas.sh`, `build-and-upload.sh`, `release-build.sh`, `release.sh`, `create-release.sh`, `easy-build-apk.sh`, `build-simple-apk.sh`, `update-version.sh`, `generate-keystore.sh`, `download-apk.sh`.
- –í—ã–ø—É—Å–∫ AAB: `./build-release-bundle.sh` (–æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç `gradlew bundleRelease` –∏ –∫–ª–∞–¥—ë—Ç `~/Desktop/DomGoMobile-<–≤–µ—Ä—Å–∏—è>-release.aab`).
- –†–µ–ª–∏–∑–Ω—ã–π APK –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ QA: `android/app/build/outputs/apk/release/app-release.apk`. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ `adb install -r`.

### 5.2 –ü—Ä–æ—Ü–µ—Å—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- Expo OTA –æ—Ç–∫–ª—é—á–µ–Ω—ã. –ö–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Google Play/App Store.
- **–í–ê–ñ–ù–û: Google Play —Ç—Ä–µ–±—É–µ—Ç targetSdkVersion 35 (Android 15)** —Å –∞–≤–≥—É—Å—Ç–∞ 2024 –≥–æ–¥–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ `android/app/build.gradle` ‚Üí `targetSdkVersion 35`.
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è: `ACCESS_FINE_LOCATION`, `ACCESS_COARSE_LOCATION`, `READ_MEDIA_IMAGES/VIDEO`, `INTERNET`, `VIBRATE`. –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ (`RECORD_AUDIO`, `SYSTEM_ALERT_WINDOW`, `WRITE_EXTERNAL_STORAGE`) —É–±—Ä–∞–Ω—ã.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -> ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è¬ª –≤–µ–¥—ë—Ç –≤ Google Play (`https://play.google.com/store/apps/details?id=com.anonymous.DomGoMobile`). –î–ª—è iOS –¥–æ–±–∞–≤–∏–º —Å—Å—ã–ª–∫—É –ø–æ—Å–ª–µ —Ä–µ–ª–∏–∑–∞.
- Release checklist –¥–ª—è Play Console:
  1. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å `.aab` (—Å–º. –≤—ã—à–µ) –∏ –≤–∫–ª—é—á–∏—Ç—å Play App Signing.
  2. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å Privacy Policy (`PRIVACY_POLICY.md`) –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–º URL –∏ —É–∫–∞–∑–∞—Ç—å –µ–≥–æ –≤ Store Listing.
  3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å Data Safety (—Å–æ–±–∏—Ä–∞–µ–º email, —Ñ–æ—Ç–æ/–∫–æ–Ω—Ç–µ–Ω—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, –ª–æ–≥–∏ –æ—à–∏–±–æ–∫/Sentry, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).
  4. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑–¥–µ–ª App Content ‚Üí User Generated Content: –ø—Ä–∞–≤–∏–ª–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏–∑ `RULES.md`, –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –∂–∞–ª–æ–±.
  5. –î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã ‚â•1080px, –∏–∫–æ–Ω–∫—É 512√ó512, –æ–ø–∏—Å–∞–Ω–∏—è, –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π e-mail/—Å–∞–π—Ç.
  6. –ü—Ä–æ–π—Ç–∏ Internal testing (–ø–æ–ª—É—á–∏—Ç—å Pre-launch report) –∏ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–∫–∞—Ç—ã–≤–∞—Ç—å Production.
- GitHub CLI `gh` –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (user `angstremoff`, scopes `repo`,`workflow`). –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ–∑–∞–ª–∏–≤–∫–∏ APK: `gh release upload v<–≤–µ—Ä—Å–∏—è> releases/domgo.apk --clobber`.

## 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- README, WIKI (+ `wiki/*.md`), `AUDIT_REPORT.md`, `IMPLEMENTATION_REPORT.md`, `DATABASE_SCHEMA.md`, `OPTIMIZATION_REPORT.md`, `FIXES_REPORT.md`, `CODE_REVIEW_REPORT.md`, `FINAL_SUMMARY.md`, `FULL_OPTIMIZATION_COMPLETE.md`, `TESTING_CHECKLIST.md`.
- `EXPO_UPDATES_SETUP.md` –∏ `GITHUB_ACTIONS_SETUP.md` –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –∞—Ä—Ö–∏–≤–Ω—ã–µ (OTA –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è).
- –î–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω MCP Context7 (`docs/context7-setup.md`).

## 7. –í–∞–∂–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- DomGoMobile –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á–µ—Ç—ã—Ä–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –Ω–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –µ–¥–∏–Ω–∞; —Ä–∞–∑–ª–∏—á–∏—è —Ç–æ–ª—å–∫–æ –≤ –≤–µ—Ä—Å—Ç–∫–µ/UX.
- –ü—Ä–∏ —à–∞—Ä–∏–Ω–≥–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ–º `https://domgo.rs/property.html?id=<ID>` (–¥–æ–º–µ–Ω –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ GitHub Pages) ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç Web + Google Play.
- –õ—é–±—ã–µ –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π, –¥–æ–ª–∂–Ω—ã —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è Google Play –∏ –Ω–∞–ª–∏—á–∏–µ AAB; APK –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- iOS –Ω—é–∞–Ω—Å—ã: —Å–∏–º—É–ª—è—Ç–æ—Ä –Ω–µ —É–º–µ–µ—Ç `tel:` ‚Äî –≤ PropertyDetails –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–ª–µ—Ä—Ç –∏ –∫–æ–ø–∏—Ä—É–µ–º –Ω–æ–º–µ—Ä –≤ –±—É—Ñ–µ—Ä; —Ñ–∏–ª—å—Ç—Ä—ã –∏–º–µ—é—Ç safe-area –ø–∞–¥–¥–∏–Ω–≥ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π hitSlop –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è; –∑–∞–≥–æ–ª–æ–≤–æ–∫ DomGo.rs –Ω–∞ iOS –≤—ã—Ä–æ–≤–Ω–µ–Ω –≤–ª–µ–≤–æ, –∞ –±–ª–æ–∫ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞ —Å–¥–≤–∏–Ω—É—Ç –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è.
- Supabase –∞–≥–µ–Ω—Ç—ã: `agency_profiles.user_id` 1:1 –∫ `users.id`, `properties.agency_id` ‚Üí `agency_profiles.id`. –ï—Å—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞ `agency_profiles` (after insert/update) –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è `agency_id` —É –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ `user_id`, –∏ —Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞ `properties` (before insert/update user_id) –¥–ª—è –∞–≤—Ç–æ–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ `agency_id`. –†–∞–∑–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: `update properties p set agency_id = ap.id from agency_profiles ap where p.user_id = ap.user_id and p.agency_id is null`.
- –°—Ç–∞—Ç–∏–∫–∞ –¥–ª—è –¥–æ–º–µ–Ω–∞ domgo.rs –∂–∏–≤—ë—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–µ–ø–æ `angstremoff/domgors` (Render / GitHub Pages). `property.html`/deeplink-handler —Ç–∞–º; –¥–ª—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∞–ø—Ä–∏–º–µ—Ä, agency.html) –¥–æ–±–∞–≤–ª—è–µ–º –≤ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —á—Ç–æ–±—ã —Å—Å—ã–ª–∫–∏ –≤–∏–¥–∞ `https://domgo.rs/...` —Ä–∞–±–æ—Ç–∞–ª–∏.
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `angstremoff/domgors` (–ª–æ–∫–∞–ª—å–Ω–æ `/Users/test/CascadeProjects/domgors`) ‚Äî —Å—Ç–∞—Ä—ã–π —Å–∞–π—Ç –Ω–∞ –ø—Ä–æ–¥–µ –¥–ª—è –¥–æ–º–µ–Ω–∞ domgo.rs: —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`public/property.html`, `public/agency.html` –∏ –¥—Ä.), –∫–æ–Ω—Ñ–∏–≥–∏ –¥–µ–ø–ª–æ—è (render.yaml, netlify/vercel, htaccess), —Ñ—Ä–æ–Ω—Ç-–∫–æ–¥ (src, package.json), supabase/sql –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã. –õ—é–±—ã–µ –Ω–æ–≤—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –¥–æ–ºgo.rs –¥–æ–±–∞–≤–ª—è–µ–º —Ç—É–¥–∞.
- –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –æ—Å—Ç–∞—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ~5% –Ω—É–∂–Ω–æ —Å–∂–∏–º–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∫–æ–Ω—Å–ø–µ–∫—Ç, –≤—ã–∂–∏–º–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —à–∞–≥–æ–≤).

## 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –∏ —Å–±–æ—Ä–∫–∏
- –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏ –≤ store): `package.json` ‚Üí `version`, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å `package-lock.json` (–ø–æ–ª–µ `version` –≤ –∫–æ—Ä–Ω–µ –∏ –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –ø–∞–∫–µ—Ç–µ). –¢–µ–∫—É—â–∞—è: 1.0.7.
- Android: `android/app/build.gradle` ‚Üí `defaultConfig.versionCode` (—Ü–µ–ª–æ–µ, —Ä–∞—Å—Ç—ë—Ç) –∏ `versionName` (—Å—Ç—Ä–æ–∫–∞, —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–µ—Ä—Å–∏–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è). –¢–µ–∫—É—â–µ–µ: code 11 / name 1.0.7.
 - iOS: `app.config.js` ‚Üí `ios.buildNumber` (—Å—Ç—Ä–æ–∫–∞) –∏ `version` –±–µ—Ä—ë—Ç—Å—è –∏–∑ `APP_VERSION`/`package.json` (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —á–µ—Ä–µ–∑ `APP_VERSION` env –∏–ª–∏ pkg.version). –¢–µ–∫—É—â–µ–µ: buildNumber 11.
- Runtime –æ—Å—Ç–∞—ë—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º: `app.config.js` ‚Üí `runtimeVersion` (–Ω–µ –º–µ–Ω—è—Ç—å –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π), —Å–µ–π—á–∞—Å 1.0.4.
- Fallback –≤–µ—Ä—Å–∏–∏ –≤ –∫–æ–¥–µ: `src/services/AppVersionManager.ts` —Ö—Ä–∞–Ω–∏—Ç –∑–∞–ø–∞—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–µ—Ä–∂–∞—Ç—å –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).
- –°–±–æ—Ä–∫–∞ AAB: `./build-release-bundle.sh` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–µ—Ä—Å–∏—é –∏–∑ package.json, –∫–ª–∞–¥—ë—Ç –Ω–∞ Desktop `DomGoMobile-<–≤–µ—Ä—Å–∏—è>-release.aab`). –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `release.keystore` –∞–∫—Ç—É–∞–ª—å–Ω—ã–π.
- Keystore release: `android/app/release.keystore` (—Å–µ–∫—Ä–µ—Ç—ã –±–µ—Ä—ë–º –∏–∑ 1Password/—Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞; –≤ —Å–±–æ—Ä–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å env: `RELEASE_KEYSTORE_PASSWORD`, `RELEASE_KEY_ALIAS`, `RELEASE_KEY_PASSWORD`).
- –ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–æ–±—Ä–∞–Ω–Ω—ã–π AAB: `~/Desktop/DomGoMobile-1.0.7-release.aab` (—Å–æ–±—Ä–∞–Ω —Å–∫—Ä–∏–ø—Ç–æ–º `./build-release-bundle.sh` —Å –∫–ª—é—á–∞–º–∏: `release.keystore` + –ø–∞—Ä–æ–ª–∏ `domgo2024release`, alias `domgo-release`).

### 8.1 –°–µ–∫—Ä–µ—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ù–µ —Ö—Ä–∞–Ω–∏–º –ø–∞—Ä–æ–ª–∏, –∫–ª—é—á–∏, —Ç–æ–∫–µ–Ω—ã –∏ base64-–∫–æ–Ω—Ç–µ–Ω—Ç –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∞–¥—ë–º –≤ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (1Password, GitHub Secrets) –∏ –ø–µ—Ä–µ–¥–∞—ë–º –≤ —Å–±–æ—Ä–∫—É —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### 8.2 Deep Link –∏ UI-—Ç–µ–º–∞ Android
- Deep link: –µ—Å—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫ —ç–∫—Ä–∞–Ω—É –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ + –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–µ—Ç—Ä–∞–∏ –ø—Ä–∏ —Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ; —ç–∫—Ä–∞–Ω –¥–µ—Ç–∞–ª–µ–π –¥–æ—Ç—è–≥–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ `propertyId`, –µ—Å–ª–∏ –Ω–µ –ø—Ä–∏—à–ª–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö.
- Android —Å–∏—Å—Ç–µ–º–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Ç–µ–º–æ–π —á–µ—Ä–µ–∑ `expo-navigation-bar` (—Ñ–æ–Ω –∏ —Å—Ç–∏–ª—å –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—è—é—Ç—Å—è –ø–æ–¥ —Å–≤–µ—Ç–ª—É—é/—Ç—ë–º–Ω—É—é —Ç–µ–º—É).
- –ê–≥–µ–Ω—Ç—Å—Ç–≤–∞ deep link: –ø–∞—Ä—Å–∏–º `domgomobile://agency/...` –∏ `https://domgo.rs/agency.html?id=...`; Android –º–∞–Ω–∏—Ñ–µ—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç intent-filter (`scheme=domgomobile`, host=agency, pathPrefix=/). –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è `agency.html` –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏–Ω–∞—á–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç Web/Play Store.

## 9. –†–∞–π–æ–Ω—ã (districts)
- –°—Ö–µ–º–∞: —Ç–∞–±–ª–∏—Ü–∞ `districts` (id uuid PK, city_id FK ‚Üí cities, name, is_active, sort_order), –∫–æ–ª–æ–Ω–∫–∞ `properties.district_id` (FK ‚Üí districts). –ò–Ω–¥–µ–∫—Å—ã: `districts_city_id_idx`, `districts_city_name_unique`, `properties_district_id_idx`.
- RLS: –≤–∫–ª—é—á–∞–µ–º RLS –Ω–∞ `districts`; –ø–æ–ª–∏—Ç–∏–∫–∞ select (–∫–∞–∫ –¥–ª—è cities). Insert/update ‚Äî —á–µ—Ä–µ–∑ service_role –∏–ª–∏ –Ω—É–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è Supabase –ø—Ä–æ RLS –Ω—É–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å.
- –ú–∏–≥—Ä–∞—Ü–∏—è: `supabase/migrations/20241109120000_add_districts.sql` (—Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É, FK, –∏–Ω–¥–µ–∫—Å—ã; –µ—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –æ—Ç–∫–∞—Ç–∞).
- –§—Ä–æ–Ω—Ç: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–π–æ–Ω–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö (HomeScreen ‚Äî —Å–µ–ª–µ–∫—Ç–æ—Ä ¬´–í—Å–µ —Ä–∞–π–æ–Ω—ã¬ª –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞), —Ñ–æ—Ä–º–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫/–¥–µ—Ç–∞–ª–µ–π (–∞–¥—Ä–µ—Å `–†–∞–π–æ–Ω, –ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞`). –í –≤—ã–±–æ—Ä–∫–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `district`.
- –¢–∏–ø—ã: `src/lib/database.types.ts` –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Ä—É—á–Ω—É—é, –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≥–Ω–∞—Ç—å `supabase gen types typescript`.
- –í–∞–∂–Ω—ã–π —Ñ–∏–∫—Å: –≤ `PropertyContext` –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–π–æ–Ω–æ–≤ –≤ useEffect –Ω–µ –¥–æ–ª–∂–Ω–∞ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç loadDistricts, –∏–Ω–∞—á–µ —Ü–∏–∫–ª —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤. –°–µ–π—á–∞—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —É–±—Ä–∞–Ω–∞, —Å—Ç–æ–∏—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.
